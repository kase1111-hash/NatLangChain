# NatLangChain Environment Configuration
# Copy this file to .env and configure as needed

# =============================================================================
# LLM Configuration (Required for advanced features)
# =============================================================================
# Anthropic API key for semantic validation, contract parsing, oracles, etc.
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_api_key_here

# =============================================================================
# Server Configuration
# =============================================================================
# Host address to bind to (0.0.0.0 for all interfaces)
HOST=0.0.0.0

# Port number for the API server
PORT=5000

# Enable Flask debug mode (set to "true" for development)
FLASK_DEBUG=false

# =============================================================================
# Storage Backend
# =============================================================================
# Storage backend type: json (default), postgresql, memory
STORAGE_BACKEND=json

# File path for JSON storage (when STORAGE_BACKEND=json)
CHAIN_DATA_FILE=chain_data.json

# PostgreSQL connection (when STORAGE_BACKEND=postgresql)
# DATABASE_URL=postgresql://user:password@localhost:5432/natlangchain

# =============================================================================
# Data Encryption (Recommended for Production)
# =============================================================================
# Encryption key for protecting blockchain data at rest
# Generate a secure key using: python -c "from src.encryption import generate_encryption_key; print(generate_encryption_key())"
# IMPORTANT: Store this key securely and back it up - data cannot be recovered without it!
NATLANGCHAIN_ENCRYPTION_KEY=

# Enable/disable encryption (default: true if key is set)
# Set to "false" to disable encryption even when a key is configured
NATLANGCHAIN_ENCRYPTION_ENABLED=true

# =============================================================================
# Authentication (Recommended for Production)
# =============================================================================
# API key for client authentication
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
NATLANGCHAIN_API_KEY=

# Require API key authentication for mutation endpoints
# SECURITY: Defaults to "true" in production - set to "false" only for development
NATLANGCHAIN_REQUIRE_AUTH=true

# =============================================================================
# Rate Limiting
# =============================================================================
# Maximum requests allowed per window
RATE_LIMIT_REQUESTS=100

# Rate limit window duration in seconds
RATE_LIMIT_WINDOW=60

# =============================================================================
# CORS Configuration
# =============================================================================
# Allowed origins for CORS (comma-separated list of specific origins)
# SECURITY: Do NOT use "*" in production - specify exact origins
# Example: "https://myapp.com,https://admin.myapp.com"
# Leave empty for same-origin only (most secure)
CORS_ALLOWED_ORIGINS=

# =============================================================================
# Distributed Infrastructure (Production)
# =============================================================================
# Redis connection for distributed locking, caching, and coordination
# Required for multi-instance deployments
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# Logging & Monitoring
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json (structured, for production) or console (human-readable)
LOG_FORMAT=console

# =============================================================================
# Production Server
# =============================================================================
# Number of gunicorn worker processes (use: 2-4 x CPU cores)
WORKERS=4

# Instance ID for cluster coordination (auto-generated if not set)
# INSTANCE_ID=api-1
